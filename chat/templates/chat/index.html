{% extends "base.html" %}
{% load static %}
{% load i18n %}
{% load chat_filters %}
{% block extra_style %}
    <link rel="stylesheet" href="{% static 'geoai/css/mode-btn.css' %}" />
{% endblock %}
{% block content %}
<section id="chat-main">
    <div id='sidebar-wrapper'>
        <input type='checkbox' id='menu-checkbox' /> <!-- State controller -->
        <div id='hamburger'><div></div></div> <!-- Hamburger button -->
        <div id="sidebar">
            <div class='sidebar-sections'>
                <a href="{% url 'chat_home' %}" class="chat-history-title">
                    {% trans "New Chat" %}
                </a>
                <div class="chat-history-links">
                    {% include "chat/topics.html" %}
                </div>
            </div>
            <div class='sidebar-sections'>
                <ul class='profile-links'>
                    <!-- Dark/Light Mode -->
                    <li>
                        <div class='bg-mode'>
                            <div class='bg-mode-title'>{% trans "Mode" %}</div>
                            <!-- Mode toggler button -->
                            <div class='bg-mode-switch'>
                                <input type="checkbox" id="darkmode-toggle" />
                                <label for="darkmode-toggle">
                                    {% include 'chat/bg-mode-svgs.html' %} 
                                </label>
                            </div>
                        </div>
                    </li>

                    <!-- Tokens -->
                    <li>
                         <div class='bg-mode'>
                            <div class='bg-mode-title'>{% trans "Tokens" %}</div>
                            <!-- Mode toggler button -->
                            <div class='user-tokens-value'>
                               {{tokens}}
                            </div>
                        </div>
                    </li>


                    <!-- Chat Language -->
                    <li>
                         <div class='bg-mode'>
                            <div class='bg-mode-title'>{% trans "Chat Language" %}</div>
                            <!-- Mode toggler button -->
                            <div class='user-tokens-value'>
                               {{user_setting.chat_lang}}
                            </div>
                        </div>
                    </li>

                    <!-- Interface Language -->
                    <li>
                         <div class='bg-mode'>
                            <div class='bg-mode-title'>{% trans "Interface Language" %}</div>
                            <!-- Mode toggler button -->
                            <div class='user-tokens-value'>
                               {{user_setting.interface_lang}}
                            </div>
                        </div>
                    </li>

                    <!-- Log out -->
                    <li>
                        <a href="{% url "account_logout" %}">{% trans "Log Out" %}</a>
                    </li>

                    <li>
                        {{user_settting.light_mode}}
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div id="chat-content">
        <div class='chat-qa-content'>
            {% include "chat/topic.html" %}
        </div>
        <p class='hide-element error-message'>
            {% trans "You don't have enought tokens to procceed the following action. Pleas purchase the tokens." %}
        </p>
        <div class='chat-qa-form'>
            {% include 'chat/question_form.html' %}
        </div>
    </div>

</section>
{% endblock %}
{% block bottom_js %}
    {{ slug|json_script:'slug'}}
    {{ user_id|json_script:'userID' }}
    {{ user_setting.light_mode|json_script:'currentMode'}}
    <script id='currentPage' type='application/json'>{{ request.get_full_path|current_page }}</script>
    <script type="text/javascript" src="{% static 'geoai/js/webpack/chat/chat.bundle.js'%}"></script>
{% endblock %}